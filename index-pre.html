<!DOCTYPE html>
<html>
	<head>
		<title>Warpweighted 2.0</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
		<link href="css/style.css" rel="stylesheet" type="text/css">
	</head>
	<body>
		<div class="container">
			<div class="row">
				<h2>Warpweighted 2.0</h2>
				<div class="col-xs-12 col-sm-4" style="height: 500px; overflow-y: scroll;">
					<b>Draft Pattern</b><br>
					<div id="draft" style="margin: auto; width: fit-content;"></div>
					<table class="table table-striped">
						<tr>
							<td>Size</td>
							<td> <input type="number" id="warp-threads" value='4' onchange="update();" style="width:3em;"/></td>
							<td> <input type="number" id="weft-threads" value='4' onchange="update();" style="width:3em;"/></td>
						</tr>
						<tr>
							<td>
								<label for="preset">Preset</label>
								<select name="preset" onchange="generate_draft();" id="preset">
									<option value="tabby">Tabby</option>
									<option value="basket">Basket</option>
									<option value="twill">(Bad) Twill</option>
									<option value="random">Random</option>
								</select>
							</td>
							<!--	      <td><button id="invert" onclick="invert_draft();">Invert</button></td>
								 <td><button id="clear" onclick="clear_draft();">Clear</button></td> -->
						</tr>
					</table>
					
					<b>Yarn Parameters</b><br>
					<table class="table table-striped">
						<tr>
							<td>
								Warp colours<br/>
								<div id="warp-colours"></div>
								<button style="width:2em;" onclick="add_colour('warp');">+</button>
								<button style="width:2em;" onclick="remove_colour('warp');">-</button>
							</td>
							<td>
								Weft colours<br/>
								<div id="weft-colours"></div>
								<button style="width:2em;" onclick="add_colour('weft');">+</button>
								<button style="width:2em;" onclick="remove_colour('weft');">-</button>
							</td>
						</tr>
						
						<tr><td>Thread width</td><td><input type="number" id="thread-width" value='0.8' onchange="update_look();" style="width:5em;"/></td></tr>
						<tr><td>Weave depth</td><td><input type="number" id="weave-depth" value='0.2' onchange="update_look();" style="width:5em;"/></td></tr>
						<tr><td>Fabric warp size</td><td><input type="number" id="fabric-warp-size" value='12' onchange="update();" style="width:5em;"/></td></tr>
						<tr><td>Fabric weft size</td><td><input type="number" id="fabric-weft-size" value='12' onchange="update();" style="width:5em;"/></td></tr>
						<tr><td>Texture</td><td><input type="checkbox" checked id="render-texture" onchange="update_look();" style="width:5em;"/></td></tr>
						<tr><td>Flat</td><td><input type="checkbox" checked id="render-flat" onchange="update_look();" style="width:5em;"/></td></tr>
					</table>
					<b>View</b><br>
					<table class="table table-striped">
						<tr><td>X rotation</td><td><input type="number" id="camera-rot-x" value='0' onchange="update_view();" style="width:5em;"/></td></tr>
						<tr><td>Y rotation</td><td><input type="number" id="camera-rot-y" value='-20' onchange="update_view();" style="width:5em;"/></td></tr>
					</table>

				</div>

				<div class="col-xs-12 col-sm-8">
					<canvas class="canvas" id="webgl-canvas" width="700" height="500"></canvas>
					<canvas class="canvas" id="canvas" width="700" height="500"></canvas> 
				</div>
				
				<div class="code-container" style="display: none;">
					<textarea id="code"></textarea>
					output
					<pre><div id="output"></div></pre>
				</div>
			</div>
	</body>
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="js/jquery-1.9.1.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script src="flx/js/glMatrix.js"></script>
	<script src="flx/js/glObjLoader.js"></script>
	<script src="flx/js/glPlyLoader.js"></script>
	<script src="flx/js/ditto.js"></script>
	<script>
     $( document ).ready(function() {
		 init_resources({{RESOURCES}});
		 init_static('{{SYNTAX}}','{{CODE}}');    
     });
	</script>
	</body>
</html>
